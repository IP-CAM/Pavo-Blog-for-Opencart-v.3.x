<?xml version="1.0" encoding="utf-8"?>
<modification>
	<name>Pavo Blog</name>
	<code>pavoblog</code>
	<version>1.0.0</version>
	<author>Pavotheme</author>
	<link>http://www.pavothemes.com</link>
    <file path="admin/controller/common/column_left.php">
        <operation>
            <search><![CDATA[// Catalog]]></search>
            <add position="before"><![CDATA[
                // pavoblog language file
                $this->load->language('extension/module/pavoblog');

                // PavoBlog Settings menu
                $settings = array();

                // access posts
                if ( $this->user->hasPermission( 'access', 'extension/module/pavoblog/posts' ) ) {
                    $settings[] = array(
                        'name'     => $this->language->get('menu_posts_text'),
                        'href'     => $this->url->link('extension/module/pavoblog/index', 'user_token=' . $this->session->data['user_token'], true),
                        'children' => array()   
                    );
                }

                // modify posts
                if ( $this->user->hasPermission( 'modify', 'extension/module/pavoblog/post' ) ) {
                    $settings[] = array(
                        'name'     => $this->language->get('menu_post_add_new_text'),
                        'href'     => $this->url->link('extension/module/pavoblog/post', 'user_token=' . $this->session->data['user_token'], true),
                        'children' => array()   
                    );
                }

                // access categories
                if ( $this->user->hasPermission( 'access', 'extension/module/pavoblog/categories' ) ) {
                    $settings[] = array(
                        'name'     => $this->language->get('menu_categories_text'),
                        'href'     => $this->url->link('extension/module/pavoblog/categories', 'user_token=' . $this->session->data['user_token'], true),
                        'children' => array()   
                    );
                }

                // access comments
                if ( $this->user->hasPermission( 'access', 'extension/module/pavoblog/comments' ) ) {
                    $settings[] = array(
                        'name'     => $this->language->get('menu_comments_text'),
                        'href'     => $this->url->link('extension/module/pavoblog/comments', 'user_token=' . $this->session->data['user_token'], true),
                        'children' => array()   
                    );
                }
                // view settings panel
                if ( $this->user->hasPermission( 'access', 'extension/module/pavoblog/settings' ) ) {
                    $settings[] = array(
                        'name'     => $this->language->get('menu_settings_text'),
                        'href'     => $this->url->link('extension/module/pavoblog/settings', 'user_token=' . $this->session->data['user_token'], true),
                        'children' => array()   
                    );
                }

                if ( $settings ) {
                    $data['menus'][] = array(
                        'id'       => 'pavoblog',
                        'icon'     => 'fa fa-tasks fw',
                        'name'     => $this->language->get( 'heading_title' ),
                        'href'     => '',
                        'children' => $settings
                    );
                }
                // End PavoBlog Settings menu
            ]]></add>
        </operation>
    </file>
</modification>